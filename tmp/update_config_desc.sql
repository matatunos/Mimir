SET NAMES utf8mb4;
UPDATE config SET description = 'Si está activado, el sistema enviará notificaciones cuando se cree un usuario vía invitación.' WHERE config_key = 'notify_user_creation_enabled' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Ruta física absoluta en el servidor donde se almacenan los ficheros subidos por los usuarios. Útil para montar un disco diferente (ej.: /mnt/storage/uploads).' WHERE config_key = 'storage_uploads_path' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Lista separada por comas de direcciones de correo que recibirán notificaciones cuando se cree un usuario (por ejemplo: ops@example.com, infra@example.com). Déjalo vacío para ningún correo adicional.' WHERE config_key = 'notify_user_creation_emails' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Si está marcado, además se enviarán notificaciones a todos los usuarios con rol administrador que tengan email configurado.' WHERE config_key = 'notify_user_creation_to_admins' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Número máximo de reintentos para enviar notificaciones de creación de usuario antes de registrar un evento forense.' WHERE config_key = 'notify_user_creation_retry_attempts' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Retraso inicial en segundos entre reintentos; se aplica backoff exponencial.' WHERE config_key = 'notify_user_creation_retry_delay_seconds' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Si está activado, las notificaciones se encolarán y un worker en background las procesará (recomendado para alta latencia de SMTP).' WHERE config_key = 'notify_user_creation_use_background_worker' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Nombre mostrado del sitio en cabeceras y correos.' WHERE config_key = 'site_name' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Breve lema o descripción corta que aparece en la cabecera.' WHERE config_key = 'site_tagline' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Dirección de email usada para notificaciones administrativas y alertas.' WHERE config_key = 'site_admin_email' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Archivo de logo usado en la interfaz y en correos (ruta relativa a la carpeta de branding).' WHERE config_key = 'site_logo' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Tamaño máximo por fichero permitido para subidas, en bytes.' WHERE config_key = 'max_file_size' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Lista de extensiones permitidas para subidas (coma separadas). Ejemplo: pdf,docx,jpg,png.' WHERE config_key = 'allowed_extensions' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Cuota por defecto para almacenamiento de usuarios, en bytes.' WHERE config_key = 'default_storage_quota' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Cuota por usuario si se configura específicamente (en bytes).' WHERE config_key = 'storage_quota_per_user' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Duración por defecto (en días) para los enlaces de descarga compartidos.' WHERE config_key = 'default_max_share_days' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Número máximo por defecto de descargas permitidas para un enlace compartido.' WHERE config_key = 'default_max_downloads' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Número de elementos que se muestran por página en listados de usuarios/archivos.' WHERE config_key = 'items_per_page' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Habilitar el envío de emails desde la aplicación (SMTP o sendmail local).' WHERE config_key = 'enable_email' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Host del servidor SMTP usado para enviar correos.' WHERE config_key = 'smtp_host' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Puerto del servidor SMTP (por ejemplo, 25, 465, 587).' WHERE config_key = 'smtp_port' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Nombre de usuario para autenticarse en el servidor SMTP.' WHERE config_key = 'smtp_username' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Contraseña para autenticarse en el servidor SMTP (almacenada codificada).' WHERE config_key = 'smtp_password' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Tipo de cifrado SMTP (por ejemplo ''ssl'', ''tls'' o vacío para ninguno).' WHERE config_key = 'smtp_encryption' AND (description IS NULL OR description = '');
UPDATE config SET description = 'La dirección ''From'' usada en los correos salientes.' WHERE config_key = 'email_from_address' AND (description IS NULL OR description = '');
UPDATE config SET description = 'El nombre que acompaña a la dirección From en los correos.' WHERE config_key = 'email_from_name' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Texto que se añade al final de los correos enviados por el sistema.' WHERE config_key = 'email_signature' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Habilitar autenticación vía LDAP/Active Directory.' WHERE config_key = 'enable_ldap' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Host del servidor LDAP/AD.' WHERE config_key = 'ldap_host' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Puerto del servidor LDAP/AD.' WHERE config_key = 'ldap_port' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Base DN usada para búsquedas de usuarios en LDAP.' WHERE config_key = 'ldap_base_dn' AND (description IS NULL OR description = '');
UPDATE config SET description = 'DN de enlace usado para consultas LDAP (si aplica).' WHERE config_key = 'ldap_bind_dn' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Contraseña para el DN de enlace LDAP.' WHERE config_key = 'ldap_bind_password' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Filtro usado para buscar usuarios en LDAP; use %s donde colocar el nombre de usuario.' WHERE config_key = 'ldap_search_filter' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Habilitar sincronización/autenticación con Active Directory.' WHERE config_key = 'enable_ad' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Host del controlador de dominio o servidor LDAP/AD.' WHERE config_key = 'ad_host' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Puerto del servidor AD (habitualmente 389 o 636 para LDAPS).' WHERE config_key = 'ad_port' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Habilitar Duo Security para autenticación de segundo factor.' WHERE config_key = 'enable_duo' AND (description IS NULL OR description = '');
UPDATE config SET description = 'ID de cliente provisto por Duo.' WHERE config_key = 'duo_client_id' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Secreto de cliente de Duo (mantener confidencial).' WHERE config_key = 'duo_client_secret' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Hostname de la API de Duo (p.ej. api-XXXXXXXX.duosecurity.com).' WHERE config_key = 'duo_api_hostname' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Número máximo de intentos de 2FA antes de bloqueo temporal.' WHERE config_key = '2fa_max_attempts' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Duración del bloqueo (en minutos) tras superar intentos de 2FA.' WHERE config_key = '2fa_lockout_minutes' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Permitir a usuarios registrarse por sí mismos desde la interfaz pública.' WHERE config_key = 'enable_registration' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Longitud mínima requerida para las contraseñas de usuario.' WHERE config_key = 'password_min_length' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Requerir al menos un carácter especial en las contraseñas.' WHERE config_key = 'password_require_special' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Proteger cambios críticos de configuración requiriendo confirmación adicional.' WHERE config_key = 'enable_config_protection' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Registrar eventos forenses adicionales para auditoría y detección de abuso.' WHERE config_key = 'enable_forensic_logging' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Días que se conservan los registros forenses antes de purgarse automáticamente.' WHERE config_key = 'forensic_retention_days' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Activar modo mantenimiento; solo administradores podrán acceder temporalmente.' WHERE config_key = 'maintenance_mode' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Habilitar límites de frecuencia para puntos críticos (login, reset, API).' WHERE config_key = 'enable_rate_limit' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Número de peticiones permitidas en la ventana de tiempo configurada.' WHERE config_key = 'rate_limit_requests' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Ventana de tiempo (en segundos) para la limitación de tasa.' WHERE config_key = 'rate_limit_window_seconds' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Color principal de la marca (hex), usado en cabeceras y botones principales.' WHERE config_key = 'brand_primary_color' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Color secundario de la marca (hex), usado en elementos complementarios.' WHERE config_key = 'brand_secondary_color' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Color de acento (hex) para destacar acciones y enlaces.' WHERE config_key = 'brand_accent_color' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Atributo LDAP que contiene el nombre de usuario (p.ej. uid, sAMAccountName).' WHERE config_key = 'ldap_username_attribute' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Atributo LDAP que contiene la dirección de correo electrónico del usuario.' WHERE config_key = 'ldap_email_attribute' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Atributo LDAP que contiene el nombre para mostrar del usuario (p.ej. cn, displayName).' WHERE config_key = 'ldap_display_name_attribute' AND (description IS NULL OR description = '');
UPDATE config SET description = 'DN de grupo requerido en LDAP para permitir inicio de sesión (opcional).' WHERE config_key = 'ldap_required_group_dn' AND (description IS NULL OR description = '');
UPDATE config SET description = 'DN de grupo en LDAP cuyos miembros se convertirán en administradores (opcional).' WHERE config_key = 'ldap_admin_group_dn' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Base DN para búsquedas en Active Directory.' WHERE config_key = 'ad_base_dn' AND (description IS NULL OR description = '');
UPDATE config SET description = 'DN de enlace usado para consultas en Active Directory.' WHERE config_key = 'ad_bind_dn' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Contraseña para el DN de enlace de Active Directory.' WHERE config_key = 'ad_bind_password' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Filtro LDAP para buscar usuarios en AD; use %s para el nombre de usuario.' WHERE config_key = 'ad_search_filter' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Atributo en AD que contiene el nombre de usuario (p.ej. sAMAccountName).' WHERE config_key = 'ad_username_attribute' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Atributo en AD que contiene el email del usuario.' WHERE config_key = 'ad_email_attribute' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Atributo en AD que contiene el nombre para mostrar del usuario.' WHERE config_key = 'ad_display_name_attribute' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Filtro o DN que obliga a pertenecer a un grupo para permitir el acceso (opcional).' WHERE config_key = 'ad_require_group' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Filtro usado para comprobar pertenencia a grupos en AD; use %s para el DN del usuario.' WHERE config_key = 'ad_group_filter' AND (description IS NULL OR description = '');
UPDATE config SET description = 'DN de grupo requerido en AD para permitir el acceso (opcional).' WHERE config_key = 'ad_required_group_dn' AND (description IS NULL OR description = '');
UPDATE config SET description = 'DN de grupo en AD cuyos miembros recibirán rol de administrador (opcional).' WHERE config_key = 'ad_admin_group_dn' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Forzar uso de SSL (LDAPS) al conectarse a AD si está disponible.' WHERE config_key = 'ad_use_ssl' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Negociar STARTTLS en conexiones a AD si el servidor lo soporta.' WHERE config_key = 'ad_use_tls' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Dominio de Active Directory (opcional), usado en algunos flujos de autenticación.' WHERE config_key = 'ad_domain' AND (description IS NULL OR description = '');
UPDATE config SET description = 'URI de redirección registrada en Duo para la integración OAuth (si aplica).' WHERE config_key = 'duo_redirect_uri' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Periodo en horas durante el cual un dispositivo puede considerarse de confianza sin re-autenticar 2FA.' WHERE config_key = '2fa_grace_period_hours' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Días durante los cuales se recuerda un dispositivo como de confianza para evitar 2FA frecuente.' WHERE config_key = '2fa_device_trust_days' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Número de solicitudes de restablecimiento en la ventana temporal que se consideran sospechosas (por nombre de usuario / IP).' WHERE config_key = 'password_reset_detection_threshold' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Ventana de tiempo (en minutos) en la que se contabilizan solicitudes para detección de enumeración.' WHERE config_key = 'password_reset_detection_window_minutes' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Si está activado, las IPs que superen el umbral serán bloqueadas automáticamente por la duración configurada.' WHERE config_key = 'password_reset_auto_block_enabled' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Duración (en minutos) del bloqueo automático de IP cuando se dispara el auto-block.' WHERE config_key = 'password_reset_auto_block_duration_minutes' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Clave interna usada por la interfaz para acciones temporales (no modificar manualmente).' WHERE config_key = 'action' AND (description IS NULL OR description = '');
UPDATE config SET description = 'Nombre de archivo temporal/subido asociado a operaciones de branding/logos.' WHERE config_key = 'filename' AND (description IS NULL OR description = '');
